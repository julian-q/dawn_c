<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="Basic shading" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://eliemichel.github.io/basic-3d-rendering/3d-meshes/basic-shading.html" />
<meta property="og:site_name" content="Learn WebGPU for C++" />
<meta property="og:description" content="With webgpu.hpp Resulting code: step056 Vanilla webgpu.h Resulting code: step056-vanilla From the beginning of this 3D mesh section, we have been cheating by darkening the color of the tip of the p..." />
<meta property="og:image" content="https://eliemichel.github.io/images/webgpu-responsive.svg" />
<meta property="og:image:alt" content="Learn WebGPU for C++" />
<meta name="description" content="With webgpu.hpp Resulting code: step056 Vanilla webgpu.h Resulting code: step056-vanilla From the beginning of this 3D mesh section, we have been cheating by darkening the color of the tip of the p..." />
    <link rel="icon" type="image/svg+xml" href="../../_static/favicon/favicon.svg">
    <link rel="icon" sizes="16x16" href="../../_static/favicon/favicon-16x16.png" type="image/png">
    <link rel="icon" sizes="32x32" href="../../_static/favicon/favicon-32x32.png" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://eliemichel.github.io/LearnWebGPU/_static/favicon/apple-touch-icon-180x180.png" type="image/png"><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Loading from file" href="loading-from-file.html" /><link rel="prev" title="Projection matrices" href="projection-matrices.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Basic shading - Learn WebGPU for C++ documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../_static/extra.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx_literate.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  --color-brand-primary: #ac2800;
  --color-brand-content: #007cac;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #ce5733;
  --color-brand-content: #38a6b9;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #ce5733;
  --color-brand-content: #38a6b9;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     <em>Important</em> This documentation is a work in progress! <a href="../../appendices/feedback-needed.html">Feedback needed!</a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Learn WebGPU for C++  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/webgpu-light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../_static/webgpu-dark.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/project-setup.html">Project setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/opening-a-window.html">Opening a window</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/hello-webgpu.html">Hello WebGPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/the-adapter.html">The Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/the-device.html">The Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/the-command-queue.html">The Command Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/first-color.html">First Color</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../getting-started/cpp-idioms.html">C++ wrapper</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Basic 3D Rendering</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../hello-triangle.html">Hello Triangle</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../input-geometry/index.html">Input Geometry</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../input-geometry/playing-with-buffers.html">Playing with buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../input-geometry/a-first-vertex-attribute.html">A first Vertex Attribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../input-geometry/multiple-attributes.html">Multiple Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../input-geometry/index-buffer.html">Index Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../input-geometry/loading-from-file.html">Loading from file</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../shader-uniforms/index.html">Shader Uniforms</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../shader-uniforms/a-first-uniform.html">A first uniform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shader-uniforms/multiple-uniforms.html">More uniforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="../shader-uniforms/dynamic-uniforms.html">Dynamic uniforms</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">3D Meshes</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="a-simple-example.html">A simple example</a></li>
<li class="toctree-l3"><a class="reference internal" href="depth-buffer.html">Depth buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="transformation-matrices.html">Transformation matrices</a></li>
<li class="toctree-l3"><a class="reference internal" href="projection-matrices.html">Projection matrices</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="basic-shading.html#">Basic shading</a></li>
<li class="toctree-l3"><a class="reference internal" href="loading-from-file.html">Loading from file</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../texturing/index.html">Texturing</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../texturing/a-first-texture.html">A first texture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../texturing/texture-mapping.html">Texture mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../texturing/sampler.html">Sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../texturing/loading-from-file.html">Loading from file</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../some-interaction/index.html">Some interaction</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../some-interaction/refactoring.html">Refactoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../some-interaction/resizing-window.html">Resizing the window</a></li>
<li class="toctree-l3"><a class="reference internal" href="../some-interaction/camera-control.html">Camera control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../some-interaction/simple-gui.html">Simple GUI</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../lighting-and-material/index.html">Lighting and Material</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../lighting-and-material/recap.html">Recap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-and-material/specular.html">Specularity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-and-material/normal-mapping.html">Normal mapping (ðŸš§WIP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-and-material/ibl.html">Image-Based Lighting (ðŸš§WIP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-and-material/cubemap.html">Cube Maps (ðŸš§WIP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lighting-and-material/pbr.html">Physically-Based Materials (ðŸš§WIP)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../basic-compute/index.html">Basic Compute</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../basic-compute/compute-pipeline.html">Compute Pipeline</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../basic-compute/image-processing/index.html">Image Processing</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../basic-compute/image-processing/mipmap-generation.html">Mipmap Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basic-compute/image-processing/convolution-filters.html">Convolution Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basic-compute/image-processing/cubemap-conversion.html">Cubemap Conversion (ðŸš§WIP)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../basic-compute/image-processing/cubemap-prefiltering.html">Cubemap Prefiltering (ðŸš§WIP)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../basic-compute/procedural-geometry/index.html">Procedural Geometry</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../basic-compute/procedural-geometry/deformation.html">Deformation (ðŸš§WIP)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../basic-compute/neural-networks.html">Neural Networks (ðŸ›‘TODO)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../advanced-techniques/index.html">Advanced Techniques</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/raii.html">RAII</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/hdr-textures.html">High Dynamic Range Textures (ðŸš§WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/deferred-shading.html">Deferred Shading (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/benchmarking.html">Benchmarking (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/render-bundles.html">Render Bundles (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/multi-sampling.html">Multi-Sampling (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/scene-tree.html">Scene tree (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/screen-capture.html">Screen capture (ðŸš§WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/shadow-maps.html">Shadow maps (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/tesselation.html">Tesselation (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced-techniques/raytracing.html">Raytracing (ðŸ›‘TODO)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../appendices/index.html">Appendices</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/teaching-native-graphics-in-2023.html">Teaching native graphics in 2023</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/feedback-needed.html">Feedback needed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/debugging.html">Debugging (ðŸš§WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/building-for-the-web.html">Building for the Web (ðŸš§WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/memory-model.html">Memory Model (ðŸ›‘TODO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/custom-extensions.html">Custom Extensions (ðŸš§WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/references.html">References (ðŸš§WIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/tmp.html">Temporary page</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="basic-shading.html#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/eliemichel/LearnWebGPU/edit/main/./basic-3d-rendering/3d-meshes/basic-shading.md" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="basic-shading">
<h1>Basic shading<a class="headerlink" href="basic-shading.html#basic-shading" title="Permalink to this heading">#</a></h1>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">With webgpu.hpp</label><div class="tab-content docutils">
<p><em>Resulting code:</em> <a class="reference external" href="https://github.com/eliemichel/LearnWebGPU-Code/tree/step056"><code class="docutils literal notranslate"><span class="pre">step056</span></code></a></p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">Vanilla webgpu.h</label><div class="tab-content docutils">
<p><em>Resulting code:</em> <a class="reference external" href="https://github.com/eliemichel/LearnWebGPU-Code/tree/step056-vanilla"><code class="docutils literal notranslate"><span class="pre">step056-vanilla</span></code></a></p>
</div>
</div>
<p>From the beginning of this 3D mesh section, we have been cheating by darkening the color of the tip of the pyramid in order to get some sense of the geometry. But in reality, the strongest <strong>visual clues</strong> we get about the geometry of the objects that surround us come from the <strong>lighting effects</strong>, and in particular the <strong>shading</strong>.</p>
<p>In this chapter we get an intuition about how to shade a scene, but do not follow a very physically based approach (this will come later on).</p>
<section id="theory">
<h2>Theory<a class="headerlink" href="basic-shading.html#theory" title="Permalink to this heading">#</a></h2>
<p>Letâ€™s be quick with the theory, because weâ€™ve had enough in the previous chapter. Simply look at this picture:</p>
<figure class="align-center" id="id1">
<img alt="../../_images/pexels-hatice-nogman-7961716.jpg" class="with-shadow" src="../../_images/pexels-hatice-nogman-7961716.jpg" />
<figcaption>
<p><span class="caption-text">It is always a good idea to observe natural images.</span><a class="headerlink" href="basic-shading.html#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The jar has a more or less uniform material. Yet, its different sides <strong>look</strong> different, the left-hand squared area is darker than the right-hand one.</p>
<p>Why so? Because they have different <strong>orientations</strong>. One is oriented towards the light, whereas the other one faces a different direction.</p>
<p>The direction of a face is expressed as <strong>a vector that is perpendicular to the face</strong>. This is called a <strong>normal</strong> vector, and it always has length 1 because all we care about is its direction (it is called a <em>normalized</em> vector, or a <em>unit</em> vector).</p>
<img alt="../../_images/normal-light.svg" class="only-light align-center" src="../../_images/normal-light.svg" /><img alt="../../_images/normal-dark.svg" class="only-dark align-center" src="../../_images/normal-dark.svg" /><p class="align-center">
	<span class="caption-text"><em>A normal vector is perpendicular to its face and has a length of <span class="math">1</span>.</em></span>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are two possible vectors that are perpendicular to the face and have a unit length: one and its opposite. By convention, we point the normal towards the outside of the object, but this might not be well defined for meshes that are not closed. Whenever you encounter weird shading artifacts, always check your normals!</p>
</div>
</section>
<section id="normal">
<h2>Normal<a class="headerlink" href="basic-shading.html#normal" title="Permalink to this heading">#</a></h2>
<section id="data">
<h3>Data<a class="headerlink" href="basic-shading.html#data" title="Permalink to this heading">#</a></h3>
<p>The normals can be mathematically computed (using the cross product of two sides of the triangle), but it is common to <strong>store them in the 3D file</strong> format, because sometimes we use intentionally fake normals to give the feeling that triangles are slightly curved.</p>
<p>We will add this normal information to our little file format and add a new vertex attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># pyramid.txt</span>
<span class="p">[</span><span class="n">points</span><span class="p">]</span>
<span class="c1"># We add normal vector (nx, ny, nz)</span>
<span class="c1"># x    y    z       nx   ny  nz     r   g   b</span>

<span class="c1"># The base</span>
<span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>     <span class="mf">0.0</span> <span class="o">-</span><span class="mf">1.0</span> <span class="mf">0.0</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>     <span class="mf">0.0</span> <span class="o">-</span><span class="mf">1.0</span> <span class="mf">0.0</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.5</span> <span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>     <span class="mf">0.0</span> <span class="o">-</span><span class="mf">1.0</span> <span class="mf">0.0</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">-</span><span class="mf">0.5</span> <span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>     <span class="mf">0.0</span> <span class="o">-</span><span class="mf">1.0</span> <span class="mf">0.0</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>

<span class="c1"># Face sides have their own copy of the vertices</span>
<span class="c1"># because they have a different normal vector.</span>
<span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>  <span class="mf">0.0</span> <span class="o">-</span><span class="mf">0.848</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>  <span class="mf">0.0</span> <span class="o">-</span><span class="mf">0.848</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.5</span>  <span class="mf">0.0</span> <span class="o">-</span><span class="mf">0.848</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>

<span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>   <span class="mf">0.848</span> <span class="mf">0.0</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.5</span> <span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>   <span class="mf">0.848</span> <span class="mf">0.0</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.5</span>   <span class="mf">0.848</span> <span class="mf">0.0</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>

<span class="o">+</span><span class="mf">0.5</span> <span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>   <span class="mf">0.0</span> <span class="mf">0.848</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">-</span><span class="mf">0.5</span> <span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>   <span class="mf">0.0</span> <span class="mf">0.848</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.5</span>   <span class="mf">0.0</span> <span class="mf">0.848</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>

<span class="o">-</span><span class="mf">0.5</span> <span class="o">+</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>  <span class="o">-</span><span class="mf">0.848</span> <span class="mf">0.0</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">-</span><span class="mf">0.3</span>  <span class="o">-</span><span class="mf">0.848</span> <span class="mf">0.0</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>
<span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.0</span> <span class="o">+</span><span class="mf">0.5</span>  <span class="o">-</span><span class="mf">0.848</span> <span class="mf">0.0</span> <span class="mf">0.53</span>    <span class="mf">1.0</span> <span class="mf">1.0</span> <span class="mf">1.0</span>

<span class="p">[</span><span class="n">indices</span><span class="p">]</span>
<span class="c1"># Base</span>
 <span class="mi">0</span>  <span class="mi">1</span>  <span class="mi">2</span>
 <span class="mi">0</span>  <span class="mi">2</span>  <span class="mi">3</span>
<span class="c1"># Sides</span>
 <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
 <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">9</span>
<span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span>
<span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>I had to duplicate some points, because although they have the same location, they have different normals depending on the face they belong to. Actually, vertices should be considered in general as <strong>face corners</strong> rather than 3D points.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To better see the impact of our shading, I gave the same base color to the whole pyramid this time.</p>
</div>
</section>
<section id="loading">
<h3>Loading<a class="headerlink" href="basic-shading.html#loading" title="Permalink to this heading">#</a></h3>
<p>We do not need to change our geometry loading procedure, only the number of float attributes per vertex:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bool</span> <span class="n">success</span> <span class="o">=</span> <span class="n">loadGeometry</span><span class="p">(</span><span class="n">RESOURCE_DIR</span> <span class="s2">&quot;/pyramid.txt&quot;</span><span class="p">,</span> <span class="n">vertexData</span><span class="p">,</span> <span class="n">indexData</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="o">//</span>                                                                             <span class="o">^</span> <span class="n">This</span> <span class="n">was</span> <span class="n">a</span> <span class="mi">3</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">vertexData</span></code> array now contains 3 attributes per vertex. In order to <strong>better manage</strong> our vertex attributes, we can create a structure that we will use similarly to the <code class="docutils literal notranslate"><span class="pre">MyUniforms</span></code> struct:</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">glm</span><span class="o">::</span><span class="n">vec3</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="w"> </span><span class="cm">*</span><span class="w"> </span><span class="cm">A</span><span class="w"> </span><span class="cm">structure</span><span class="w"> </span><span class="cm">that</span><span class="w"> </span><span class="cm">describes</span><span class="w"> </span><span class="cm">the</span><span class="w"> </span><span class="cm">data</span><span class="w"> </span><span class="cm">layout</span><span class="w"> </span><span class="cm">in</span><span class="w"> </span><span class="cm">the</span><span class="w"> </span><span class="cm">vertex</span><span class="w"> </span><span class="cm">buffer</span>
<span class="w"> </span><span class="cm">*</span><span class="w"> </span><span class="cm">We</span><span class="w"> </span><span class="cm">do</span><span class="w"> </span><span class="cm">not</span><span class="w"> </span><span class="cm">instantiate</span><span class="w"> </span><span class="cm">it</span><span class="w"> </span><span class="cm">but</span><span class="w"> </span><span class="cm">use</span><span class="w"> </span><span class="cm">it</span><span class="w"> </span><span class="cm">in</span><span class="w"> </span><span class="cm">`sizeof`</span><span class="w"> </span><span class="cm">and</span><span class="w"> </span><span class="cm">`offsetof`</span>
<span class="w"> </span><span class="cm">*/</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">VertexAttributes</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">vec3</span><span class="w"> </span><span class="n">position</span><span class="p">;</span>
<span class="w">    </span><span class="n">vec3</span><span class="w"> </span><span class="n">normal</span><span class="p">;</span>
<span class="w">    </span><span class="n">vec3</span><span class="w"> </span><span class="n">color</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>This structure mirrors the VertexInput struct from the WGSL shader:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexInput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">position</span>:<span class="w"> </span><span class="nc">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">normal</span>:<span class="w"> </span><span class="nc">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="c1">//</span><span class="w"> </span><span class="c1">new</span><span class="w"> </span><span class="c1">attribute</span>
<span class="w">    </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">color</span>:<span class="w"> </span><span class="nc">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The <strong>order of the fields</strong> does not need to be the same. The order of the fields in the C++ struct <code class="docutils literal notranslate"><span class="pre">VertexAttributes</span></code> is driven by the order in which the data is stored in the loaded file.</p>
<p>The order in <code class="docutils literal notranslate"><span class="pre">VertexInput</span></code> does not matter, and the <code class="docutils literal notranslate"><span class="pre">&#64;location</span></code> must match the attribute definition:</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">VertexAttribute</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vertexAttribs</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="c1">//</span><span class="w">                                         </span><span class="c1">^</span><span class="w"> </span><span class="c1">This</span><span class="w"> </span><span class="c1">was</span><span class="w"> </span><span class="c1">a</span><span class="w"> </span><span class="c1">2</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">Position</span><span class="w"> </span><span class="c1">attribute</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">shaderLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VertexFormat</span><span class="o">::</span><span class="n">Float32x3</span><span class="p">;</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">offsetof</span><span class="p">(</span><span class="n">VertexAttributes</span><span class="p">,</span><span class="w"> </span><span class="n">position</span><span class="p">);</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">Normal</span><span class="w"> </span><span class="c1">attribute</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">shaderLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VertexFormat</span><span class="o">::</span><span class="n">Float32x3</span><span class="p">;</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">offsetof</span><span class="p">(</span><span class="n">VertexAttributes</span><span class="p">,</span><span class="w"> </span><span class="n">normal</span><span class="p">);</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">Color</span><span class="w"> </span><span class="c1">attribute</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">shaderLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">VertexFormat</span><span class="o">::</span><span class="n">Float32x3</span><span class="p">;</span>
<span class="n">vertexAttribs</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">offsetof</span><span class="p">(</span><span class="n">VertexAttributes</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="p">);</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>

<span class="n">vertexBufferLayout</span><span class="p">.</span><span class="n">arrayStride</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">VertexAttributes</span><span class="p">);</span>
<span class="c1">//</span><span class="w">                               </span><span class="c1">^^^^^^^^^^^^^^^^^^^^^^^^</span><span class="w"> </span><span class="c1">This</span><span class="w"> </span><span class="c1">was</span><span class="w"> </span><span class="c1">6</span><span class="w"> </span><span class="c1">*</span><span class="w"> </span><span class="c1">sizeof(float)</span>
</pre></div>
</div>
<p>And do not forget to change the device limits:</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">requiredLimits</span><span class="p">.</span><span class="n">limits</span><span class="p">.</span><span class="n">maxVertexAttributes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="c1">//</span><span class="w">                                          </span><span class="c1">^</span><span class="w"> </span><span class="c1">This</span><span class="w"> </span><span class="c1">was</span><span class="w"> </span><span class="c1">a</span><span class="w"> </span><span class="c1">2</span>
</pre></div>
</div>
</section>
</section>
<section id="shading">
<h2>Shading<a class="headerlink" href="basic-shading.html#shading" title="Permalink to this heading">#</a></h2>
<section id="light-direction">
<h3>Light direction<a class="headerlink" href="basic-shading.html#light-direction" title="Permalink to this heading">#</a></h3>
<p>Now the normal data is loaded from the file, and accessible to the vertex shader. But shading occurs in the <strong>fragment shader</strong>, so we need to forward the normal attribute:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">VertexOutput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">@</span><span class="n">builtin</span><span class="p">(</span><span class="n">position</span><span class="p">)</span><span class="w"> </span><span class="n">position</span>:<span class="w"> </span><span class="nc">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">color</span>:<span class="w"> </span><span class="nc">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">normal</span>:<span class="w"> </span><span class="nc">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="c1">//</span><span class="w"> </span><span class="c1">&lt;---</span><span class="w"> </span><span class="c1">Add</span><span class="w"> </span><span class="c1">a</span><span class="w"> </span><span class="c1">normal</span><span class="w"> </span><span class="c1">output</span>
<span class="p">};</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>

<span class="o">@</span><span class="n">vertex</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">vs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexInput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="nc">VertexOutput</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">Forward</span><span class="w"> </span><span class="c1">the</span><span class="w"> </span><span class="c1">normal</span>
<span class="w">    </span><span class="n">out</span><span class="p">.</span><span class="n">normal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In order to check that everything is piped up correctly, you can try to just use the coordinates of the normal vector as the output color. Since these coordinates are in the range <span class="math notranslate nohighlight">\((-1,1)\)</span>, I usually add <code class="docutils literal notranslate"> <span class="pre">*</span> <span class="pre">0.5</span> <span class="pre">+</span> <span class="pre">0.5</span></code> to remap them in the range <span class="math notranslate nohighlight">\((0,1)\)</span>, which the color output expects:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">fs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexOutput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.5</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<figure class="align-center">
	<video autoplay loop muted inline nocontrols style="width:100%;height:auto;max-width:642px">
		<source src="../../_static/shading-fwd-normal.mp4" type="video/mp4">
	</video>
	<figcaption>
		<p><span class="caption-text">These color are typical of the normal "palette".</span></p>
	</figcaption>
</figure>
<p>Letâ€™s now do some experiments with this normal:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">fs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexOutput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<figure class="align-center" id="id2">
<img alt="../../_images/pyramid-axis-lights.png" class="with-shadow" src="../../_images/pyramid-axis-lights.png" />
<figcaption>
<p><span class="caption-text">Multiplying the color by the normal axes creates axis-aligned directional lights.</span><a class="headerlink" href="basic-shading.html#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>To apply a lighting coming from an arbitrary direction, we again use a linear combination of the different axes:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">fs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexOutput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">shading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">0.9</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">shading</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<figure class="align-center" id="id3">
<img alt="../../_images/pyramid-first-light.png" class="with-shadow" src="../../_images/pyramid-first-light.png" />
<figcaption>
<p><span class="caption-text">Mixing multiple axes can create a directional light coming from any direction.</span><a class="headerlink" href="basic-shading.html#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The coefficient <span class="math notranslate nohighlight">\((0.5, -0.9, 0.1)\)</span> are in fact the <strong>light direction</strong> This combination is called a <strong>dot product</strong>:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">fs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexOutput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">lightDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">shading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">lightDirection</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">shading</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The term â€œdirectionâ€ suggests that this is a <strong>normalized</strong> vector (i.e., a vector whose length is <span class="math notranslate nohighlight">\(1\)</span>. Here we actually encode the direction plus the <strong>intensity</strong> of the light, through the magnitude (i.e., length) of the vector.</p>
</div>
</section>
<section id="multiple-lights">
<h3>Multiple lights<a class="headerlink" href="basic-shading.html#multiple-lights" title="Permalink to this heading">#</a></h3>
<p>Adding multiple light sources is as simple as summing the contribution of multiple directions. One important thing though:</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="n">shading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">lightDirection</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">));</span>
<span class="c1">//</span><span class="w">            </span><span class="c1">^^^^^^^^</span><span class="w"> </span><span class="c1">This</span><span class="w"> </span><span class="c1">clamps</span><span class="w"> </span><span class="c1">negative</span><span class="w"> </span><span class="c1">values</span><span class="w"> </span><span class="c1">to</span><span class="w"> </span><span class="c1">0.0</span>
</pre></div>
</div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">fs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexOutput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">lightDirection1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">lightDirection2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">shading1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">lightDirection1</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">));</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">shading2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">lightDirection2</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">));</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">shading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shading1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shading2</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">shading</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="k">fn</span><span class="w"> </span><span class="nf">fs_main</span><span class="p">(</span><span class="k">in</span>:<span class="w"> </span><span class="nc">VertexOutput</span><span class="p">)</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="o">@</span><span class="n">location</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">lightColor1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">0.6</span><span class="p">);</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">lightColor2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec3</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">shading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shading1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">lightColor1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shading2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">lightColor2</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="p">.</span><span class="n">color</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">shading</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>
<span class="p">}</span>
</pre></div>
</div>
<figure class="align-center">
	<video autoplay loop muted inline nocontrols style="width:100%;height:auto;max-width:642px">
		<source src="../../_static/shading01.mp4" type="video/mp4">
	</video>
	<figcaption>
		<p><span class="caption-text">Two colored lights.</span></p>
	</figcaption>
</figure>
</section>
</section>
<section id="transform">
<h2>Transform<a class="headerlink" href="basic-shading.html#transform" title="Permalink to this heading">#</a></h2>
<p>In the previous part, the light direction changes with the objectâ€™s orientation. To apply a fixed global lighting, we need to transform the normal wrt. the model transform, but not the view transform (hence the distinction).</p>
<div class="highlight-rust notranslate"><div class="highlight"><pre><span></span><span class="c1">//</span><span class="w"> </span><span class="c1">in</span><span class="w"> </span><span class="c1">Vertex</span><span class="w"> </span><span class="c1">shader</span>
<span class="n">out</span><span class="p">.</span><span class="n">normal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">uMyUniforms</span><span class="p">.</span><span class="n">modelMatrix</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vec4</span><span class="o">&lt;</span><span class="kt">f32</span><span class="o">&gt;</span><span class="p">(</span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)).</span><span class="n">xyz</span><span class="p">;</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">[...]</span>

<span class="c1">//</span><span class="w"> </span><span class="c1">in</span><span class="w"> </span><span class="c1">Fragment</span><span class="w"> </span><span class="c1">shader</span>
<span class="kd">let</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="p">.</span><span class="n">normal</span><span class="p">);</span>
<span class="c1">//</span><span class="w"> </span><span class="c1">(and</span><span class="w"> </span><span class="c1">replace</span><span class="w"> </span><span class="c1">in.normal</span><span class="w"> </span><span class="c1">with</span><span class="w"> </span><span class="c1">normal</span><span class="w"> </span><span class="c1">in</span><span class="w"> </span><span class="c1">shading1/shading2)</span>
</pre></div>
</div>
<figure class="align-center">
	<video autoplay loop muted inline nocontrols style="width:100%;height:auto;max-width:642px">
		<source src="../../_static/shading02.mp4" type="video/mp4">
	</video>
	<figcaption>
		<p><span class="caption-text">Fixed light direction.</span></p>
	</figcaption>
</figure>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="basic-shading.html#conclusion" title="Permalink to this heading">#</a></h2>
<p>We will see a much more accurate material model in the <a class="reference internal" href="../lighting-and-material/index.html"><span class="std std-doc">Lighting and material</span></a> chapter.</p>
<div class="tab-set docutils">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">With webgpu.hpp</label><div class="tab-content docutils">
<p><em>Resulting code:</em> <a class="reference external" href="https://github.com/eliemichel/LearnWebGPU-Code/tree/step056"><code class="docutils literal notranslate"><span class="pre">step056</span></code></a></p>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">Vanilla webgpu.h</label><div class="tab-content docutils">
<p><em>Resulting code:</em> <a class="reference external" href="https://github.com/eliemichel/LearnWebGPU-Code/tree/step056-vanilla"><code class="docutils literal notranslate"><span class="pre">step056-vanilla</span></code></a></p>
</div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="loading-from-file.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Loading from file</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="projection-matrices.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Projection matrices</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022-2023, Ã‰lie Michel and contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/eliemichel/LearnWebGPU" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      <div class="toc-sticky toc-scroll">
	<div class="toc-title-container">
		<span class="toc-title">
			On this page
		</span>
	</div>
	<div class="toc-tree-container">
		<div class="toc-tree">
			<ul>
<li><a class="reference internal" href="basic-shading.html#">Basic shading</a><ul>
<li><a class="reference internal" href="basic-shading.html#theory">Theory</a></li>
<li><a class="reference internal" href="basic-shading.html#normal">Normal</a><ul>
<li><a class="reference internal" href="basic-shading.html#data">Data</a></li>
<li><a class="reference internal" href="basic-shading.html#loading">Loading</a></li>
</ul>
</li>
<li><a class="reference internal" href="basic-shading.html#shading">Shading</a><ul>
<li><a class="reference internal" href="basic-shading.html#light-direction">Light direction</a></li>
<li><a class="reference internal" href="basic-shading.html#multiple-lights">Multiple lights</a></li>
</ul>
</li>
<li><a class="reference internal" href="basic-shading.html#transform">Transform</a></li>
<li><a class="reference internal" href="basic-shading.html#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

		</div>
	</div>
	
</div>
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/sphinx_literate.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>